
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§ Ù„Ù„ØªØ®Ø±Ø¬</title>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background: #fff8f0;
      text-align: center;
      padding: 40px;
      overflow-x: hidden;
    }

    .button {
      padding: 15px 25px;
      font-size: 18px;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px;
    }

    .hidden {
      display: none;
    }

    #motivationalBar {
      background: #ffe0b2;
      padding: 15px;
      margin: 30px 0;
      font-size: 20px;
      border-radius: 10px;
      position: relative;
      height: 50px;
      overflow: hidden;
      direction: rtl;
    }

    #motivationalBar span {
      position: absolute;
      white-space: nowrap;
      animation: scroll 15s linear infinite;
      font-weight: bold;
      font-size: 22px;
      right: -100%;
    }

    @keyframes scroll {
      from { right: -100%; }
      to { right: 100%; }
    }

    .certificate {
      margin-top: 30px;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>

  <audio id="celebrationSound" src="https://www.fesliyanstudios.com/play-mp3/387" preload="auto"></audio>
  <canvas id="confetti-canvas"></canvas>

  <h1>Ù…Ø¨Ø±ÙˆÙƒ ÙŠØ§ <span id="studentName">[Ø§Ù„Ø§Ø³Ù…]</span> ğŸ‰</h1>
  <p>Ø±Ø­Ù„ØªÙƒ ÙƒØ§Ù†Øª Ù…Ù„Ù‡Ù…Ø©! Ù…Ø³ØªØ¹Ø¯Ø© Ù„Ù„Ù…ÙØ§Ø¬Ø£Ø©ØŸ</p>

  <button id="startButton" class="button" onclick="startSurprise()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© ğŸ</button>

  <div id="gameSection" class="hidden">
    <p>Ø­Ù„ Ø§Ù„Ù„ØºØ²: Ø´ÙŠØ¡ ÙƒÙ„Ù…Ø§ Ø£Ø®Ø°Øª Ù…Ù†Ù‡ ÙƒØ¨Ø±ØŸ</p>
    <input type="text" id="riddleAnswer" placeholder="Ø¥Ø¬Ø§Ø¨ØªÙƒ">
    <button class="button" onclick="checkAnswer()">ØªØ­Ù‚Ù‚</button>
    <p id="riddleFeedback"></p>
  </div>

  <div id="motivationalBar" class="hidden"><span id="motivationText"></span></div>

  <div id="certificateSection" class="hidden">
    <button class="button" onclick="showCertificate()">Ø¹Ø±Ø¶ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ğŸ“</button>
  </div>

  <div class="certificate hidden" id="certificateBox">
    <img src="../certif/habiba.jpg" alt="Ø´Ù‡Ø§Ø¯ØªÙƒ" style="width: 500px; border-radius: 12px; border: 2px solid #444;">
    <div style="margin-top: 20px;">
      <button class="button" onclick="downloadCert()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
      <button class="button" onclick="shareCert()">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
    </div>
  </div>

  <!-- Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†Ø¬ÙˆÙ… -->
  <div style="margin: 30px auto; width: 100%; max-width: 600px; height: 400px; border: 3px solid #ccc; border-radius: 15px; overflow: hidden;">
    <iframe src="game.html" width="100%" height="100%" style="border: none;"></iframe>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    const name = "Ø­Ø¨ÙŠØ¨Ø©";
    const gender = "female";

    document.getElementById("studentName").innerText = name;

    window.addEventListener('click', () => {
      const sound = document.getElementById("celebrationSound");
      if (sound.paused) sound.play();
    }, { once: true });

    window.onload = () => {
      confettiBurst();
    };

    function startSurprise() {
      document.getElementById("startButton").style.display = "none";
      document.getElementById("gameSection").classList.remove("hidden");
    }

    function checkAnswer() {
      const answer = document.getElementById("riddleAnswer").value.trim();
      const feedback = document.getElementById("riddleFeedback");
      if (answer === "Ø§Ù„Ø­ÙØ±Ø©" || answer === "Ø§Ù„ÙØ±Ø§Øº " || answer === "Ø§Ù†Ø¬Ø§Ø²Ø§ØªÙƒ") {
        feedback.innerText = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© ğŸ‘";
        showMotivation();
      } else {
        feedback.innerText = "Ù…Ø´ Ù‚Ø±ÙŠØ¨! Ø­Ø§ÙˆÙ„ ØªØ§Ù†ÙŠ ğŸ˜Š";
      }
    }

    function showMotivation() {
      document.getElementById("gameSection").classList.add("hidden");
      document.getElementById("motivationalBar").classList.remove("hidden");
      document.getElementById("certificateSection").classList.remove("hidden");

      let messages = gender === "female"
        ? [`ÙŠØ§ ${name}ØŒ Ø£Ù†ØªÙŠ Ù‚Ø¯Ù‡Ø§ ğŸ’ª`, "Ø¥Ø¨Ø¯Ø§Ø¹Ùƒ Ø¨ÙŠØ¨Ù‡Ø±Ù†Ø§!", "Ø¯ÙŠ ÙƒØ§Ù†Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©!"]
        : [`ÙŠØ§ ${name}ØŒ Ø£Ù†Øª Ù‚Ø¯Ù‡Ø§ ğŸ’ª`, "Ø¥Ø¨Ø¯Ø§Ø¹Ùƒ Ø¨ÙŠØ¨Ù‡Ø±Ù†Ø§!", "Ø¯ÙŠ ÙƒØ§Ù†Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©!"];

      document.getElementById("motivationText").innerText = messages.join(" â€” ");
    }

    function showCertificate() {
      document.getElementById("certificateBox").classList.remove("hidden");
      confettiBurst();
    }

    function confettiBurst() {
      confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
    }

    function downloadCert() {
      const link = document.createElement('a');
      link.href = '/certif/certif/habiba.jpg';
      link.download = '../certif/habiba.jpg';
      link.click();
    }

    function shareCert() {
      const certUrl = window.location.origin + "/certif/certif/habiba.jpg";
      if (navigator.share) {
        navigator.share({
          title: 'ğŸ“ Ø´Ù‡Ø§Ø¯ØªÙŠ',
          text: `Ø£Ù†Ù‡ÙŠØª Ø±Ø­Ù„ØªÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©! Ù‡Ø°Ù‡ Ø´Ù‡Ø§Ø¯ØªÙŠØŒ Ø´Ø¬Ø¹ÙˆÙ†ÙŠ! ğŸ‰`,
          url: certUrl
        }).catch((err) => {
          alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©: " + err.message);
        });
      } else {
        alert("Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©. Ø´Ø§Ø±Ùƒ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙŠØ¯ÙˆÙŠÙ‹Ø§.");
      }
    }
  </script>
</body>
</html>
